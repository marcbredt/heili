<root>
 
  <!-- conventions for passing data -->
  <!--
    - double escapes because replace_with_internals 
    - double backslashes for CR+LF and hex representations 
       => \\r\\n\\x3b
    - semicolon hex escape because the data will be eval'd to generate
      data strings using shell command(-substitutions)
      => \\x3b
    - whitespace escapes
      => \\x20
    - double quote escapes
      => \\x22
  -->
 
  <scenarios order="0,1,2">

    <scenario sid="0" name="upload_cropped_screenshot_to_prntsc" dryrun="n" stoponfail="y">
      <headers>
        <header active="y" hid="0" run="init_psc_upload_local" response="y" store="Cookie" storeas="t1" />
        <header active="n" hid="1" run="options_psc_upload_local" response="y" store="Cookie" storeas="t1" />
        <header active="n" hid="3" run="send_psc_upload_local_replace" response="y" onfail="on_fail_dummy">--%BOUNDARY%\\r\\nContent-Disposition:\\x20form-data\\x3b\\x20name=\\x22image\\x22\\x3b\\x20filename=\\x22%BINDATAFILE%\\x22\\r\\nContent-Type:\\x20$(file -b --mime-type %BINDATAFILE%)\\r\\n\\r\\n$(xxd -p -c 1 %BINDATAFILE% | sed -r 's/(..)$/\\x\1/g' | tr -d '\n')\\r\\n--%BOUNDARY%--\\r\\n</header>
      </headers>
    </scenario>

  </scenarios>

</root>
